@page "/requests"
@using Entities.Models

<MudTable  ServerData="@(new Func<TableState, Task<TableData<RequestAbonent>>>(GetServerData))"
            Hover="true" Breakpoint="Breakpoint.Sm" RightAlignSmall="true" 
            @ref="_table" RowsPerPage="15"
            FixedFooter="true" FixedHeader="true" Height="84vh" 
            Width="84vh"
            T="RequestAbonent" 
            OnRowClick="@RowClicked">
        @* <ToolBarContent>
            <MudSpacer/>
             <MudTextField OnDebounceIntervalElapsed="OnSearch" Placeholder="Search" Adornment="Adornment.Start" 
            AdornmentIcon="@Icons.Material.Filled.Search" IconSize="Size.Medium" 
            Class="mt-0" T="string" DebounceInterval="500"></MudTextField> 
        </ToolBarContent> *@
        
        <HeaderContent>
            <MudTh>Владелец</MudTh>
            <MudTh>Организация</MudTh>
            <MudTh>Дата</MudTh>
            <MudTh>Статус</MudTh>
            <MudTh></MudTh>
        </HeaderContent>
        <RowTemplate>
            <MudTd DataLabel="Name">@context.ShortName</MudTd>
            <MudTd DataLabel="Name">@context.ShortName</MudTd>
            <MudTd DataLabel="Supplier">@context.CreationTime.ToLocalTime()</MudTd>
            <MudTd DataLabel="Supplier">@context.StepId</MudTd>
            <MudTd DataLabel="">
                <MudFab @onclick="() => Delete(context.Id)"  Icon="@Icons.Filled.DeleteOutline" Size="Size.Small" IconSize="Size.Medium" />
            </MudTd>
        </RowTemplate>
        <PagerContent>
            <MudTablePager PageSizeOptions="@_pageSizeOption" RowsPerPageString="Количество" /> 
        </PagerContent>
    </MudTable>


